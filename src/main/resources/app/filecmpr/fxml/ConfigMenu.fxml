<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import org.kordamp.ikonli.javafx.FontIcon?>


<BorderPane prefHeight="600" prefWidth="785"
            xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="app.filecmpr.controllers.Configure"
            stylesheets="@../styles/appTheme.css"
            style="-fx-background-color: #F8FAFD;">

   <!-- TOP BAR -->
   <top>
      <AnchorPane prefHeight="45"
                  style="-fx-background-color: linear-gradient(to right, #006FF7, #6DAEF9);
                       -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 10, 0, 0, 3);"
                  BorderPane.alignment="CENTER">
         <children>
            <HBox alignment="CENTER_LEFT" layoutX="18.0" layoutY="8.0" spacing="10">
               <children>
                  <Label text="Configure"
                         style="-fx-text-fill: white; -fx-font-size: 17px; -fx-font-weight: bold;"/>
               </children>
            </HBox>
         </children>
      </AnchorPane>
   </top>


   <!-- BOTTOM BAR -->
   <bottom>
      <AnchorPane prefHeight="30"
                  style="-fx-background-color: #E9F0FB;
                         -fx-border-color: #D0DAEB transparent transparent transparent;"
                  BorderPane.alignment="CENTER">
         <children>
            <Label layoutX="355" layoutY="8" text="AA (2025)."
                   style="-fx-text-fill: #8A96A8; -fx-font-style: italic; -fx-font-size: 11px;" />
         </children>
      </AnchorPane>
   </bottom>

   <!-- MAIN CONTENT -->
   <center>
      <VBox alignment="TOP_CENTER" spacing="20">
         <padding>
            <Insets top="25" left="25" right="25" bottom="25"/>
         </padding>
         <children>

            <!-- Operation selector -->
            <HBox alignment="CENTER_LEFT" spacing="10">
               <Label text="Operaci칩n:" style="-fx-font-weight: 600;"/>
               <ChoiceBox fx:id="operationChoice" prefWidth="220"/>
               <Button fx:id="btnProcess" onAction="#handleProcess" text="Procesar" styleClass="button main"/>
            </HBox>

            <Separator/>

            <!-- SPLIT AREA -->
            <SplitPane dividerPositions="0.4" style="-fx-background-color: transparent;">
               <items>

                  <!-- LEFT PANEL -->
                  <VBox spacing="10" style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 12, 0, 0, 4);">
                     <padding>
                        <Insets top="15" left="15" right="15" bottom="15"/>
                     </padding>
                     <children>

                        <fx:define>
                           <ToggleGroup fx:id="tipoGroup"/>
                        </fx:define>

                        <HBox spacing="10" alignment="CENTER_LEFT">
                           <Label text="Tipo:" style="-fx-font-weight: 600;"/>
                           <RadioButton fx:id="radioArchivo" text="Archivo" toggleGroup="${tipoGroup}" selected="true"/>
                           <RadioButton fx:id="radioCarpeta" text="Carpeta" toggleGroup="${tipoGroup}"/>
                        </HBox>

                        <Button fx:id="btnUpload" onAction="#handleUpload" text="Seleccionar Archivo/Carpeta"
                                styleClass="button main" prefWidth="220"/>

                        <ListView fx:id="fileList"
                                  style="-fx-background-color: #F3F6FB; -fx-background-radius: 10;"
                                  prefHeight="350"/>
                     </children>
                  </VBox>

                  <!-- RIGHT PANEL -->
                  <VBox spacing="12" style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 12, 0, 0, 4);">
                     <padding>
                        <Insets top="15" left="15" right="15" bottom="15"/>
                     </padding>
                     <children>
                        <Label text="Configuraci칩n de Procesamiento:"
                               style="-fx-font-weight: 700; -fx-text-fill: #1E2432; -fx-font-size: 14px;"/>
                        <HBox alignment="CENTER_LEFT" spacing="10">
                           <Label text="Compresi칩n:" style="-fx-font-weight: 600;"/>
                           <ChoiceBox fx:id="compressionChoice" prefWidth="180"/>
                        </HBox>
                        <HBox alignment="CENTER_LEFT" spacing="10">
                           <Label text="Contrase침a:" style="-fx-font-weight: 600;"/>
                           <PasswordField fx:id="passwordField" prefWidth="180"/>
                        </HBox>
                        <Separator/>
                        <Label fx:id="statusLabel"
                               text="Modo: Ninguno seleccionado."
                               style="-fx-text-fill: #64748B; -fx-font-size: 12px;"/>
                     </children>
                  </VBox>

               </items>
            </SplitPane>
         </children>
      </VBox>
   </center>
</BorderPane>
